definition {

	macro _enableLocalStaging {
		Variables.assertDefined(parameterList = "${groupId},${branchingPublic},${branchingPrivate}");

		var portalURL = JSONCompany.getPortalURL();

		var newLine = '''
''';

		var attributes = '''{
"staged--staged-portlet_com_liferay_blogs_web_portlet_BlogsAdminPortlet--" : "true",
"staged--staged-portlet_com_liferay_bookmarks_web_portlet_BookmarksAdminPortlet--" : "true",
"staged--staged-portlet_com_liferay_calendar_web_portlet_CalendarAdminPortlet--" : "true",
"staged--staged-portlet_com_liferay_document_library_web_portlet_DLAdminPortlet--" : "true",
"staged--staged-portlet_com_liferay_dynamic_data_lists_web_portlet_DDLPortlet--" : "true",
"staged--staged-portlet_com_liferay_dynamic_data_mapping_data_provider_web_portlet_DDMDataProviderPortlet--" : "true",
"staged--staged-portlet_com_liferay_dynamic_data_mapping_form_web_portlet_DDMFormAdminPortlet--" : "true",
"staged--staged-portlet_com_liferay_dynamic_data_mapping_web_portlet_PortletDisplayTemplatePortlet--" : "true",
"staged--staged-portlet_com_liferay_journal_web_portlet_JournalPortlet--" : "true",
"staged--staged-portlet_com_liferay_knowledge_base_web_portlet_AdminPortlet--" : "true",
"staged--staged-portlet_com_liferay_message_boards_web_portlet_MBAdminPortlet--" : "true",
"staged--staged-portlet_com_liferay_mobile_device_rules_web_portlet_MDRPortlet--" : "true",
"staged--staged-portlet_com_liferay_polls_web_portlet_PollsPortlet--" : "true",
"staged--staged-portlet_com_liferay_segments_web_internal_portlet_SegmentsPortlet--" : "true",
"staged--staged-portlet_com_liferay_wiki_web_portlet_WikiAdminPortlet--" : "true"
}''';

		var attributes = StringUtil.regexReplaceAll("${attributes}", "${newLine}", "");

		var serviceContext = JSONServiceContextUtil.setServiceContext(attributes = "${attributes}");

		var curl = '''
			${portalURL}/api/jsonws/staging/enable-local-staging \
				-u test@liferay.com:test \
				-d groupId=${groupId} \
				-d branchingPublic=${branchingPublic} \
				-d branchingPrivate=${branchingPrivate} \
				-d serviceContext=${serviceContext}
		''';

		com.liferay.poshi.runner.util.JSONCurlUtil.post("${curl}");
	}

	macro _enableRemoteStaging {
		Variables.assertDefined(parameterList = "${groupId},${remoteGroupId}");

		var portalURL = JSONCompany.getPortalURL();

		var curl = '''
			${portalURL}/api/jsonws/staging/enable-remote-staging \
				-u test@liferay.com:test \
				-d groupId=${groupId} \
				-d branchingPublic=${branchingPublic} \
				-d branchingPrivate=${branchingPrivate} \
				-d remoteAddress=localhost \
				-d remotePort=${remotePort} \
				-d remotePathContext= \
				-d secureConnection=false \
				-d remoteGroupId=${remoteGroupId}
		''';

		com.liferay.poshi.runner.util.JSONCurlUtil.post("${curl}");
	}

}